Hardware
=========

Overview
-----------------------------

Connectors
-----------------------------

External connectors
^^^^^^^^^^^^^^^^^^^

+------------+--------------+--------------+----------------------+
| Designator | PartNumber   | Mates with   | Function             |
+============+==============+==============+======================+
| J6         | 691322110002 | 691361100002 | 5V Power input       |
+------------+--------------+--------------+----------------------+
| J9         | 691322110003 | 691361100003 | RS485 Connector      |
+------------+--------------+--------------+----------------------+
| J5         | 691322110004 | 691361100004 | IO 1/2 Connector     |
+------------+--------------+--------------+----------------------+
| J18        | 691322110006 | 691361100006 | IO 3/4/5/6 Connector |
+------------+--------------+--------------+----------------------+
| J7         | 691313510012 | 691351500012 | 4x Relay Connector   |
+------------+--------------+--------------+----------------------+

Internal connectors
^^^^^^^^^^^^^^^^^^^

+------------+------------------------------+-----------------------------------------------------+
| Designator | PartNumber                   | Function                                            |
+============+==============================+=====================================================+
| J8         | 61300211121                  | RS485 120R enable jumper                            |
+------------+------------------------------+-----------------------------------------------------+
| J1         | 61300311121                  | Pull-up / Pull-down selection for IO1               |
+------------+------------------------------+-----------------------------------------------------+
| J2         | 61300311121                  | Pull-up / Pull-down selection for IO2               |
+------------+------------------------------+-----------------------------------------------------+
| J4         | 61300311121                  | Gain selection for IO3                              |
+------------+------------------------------+-----------------------------------------------------+
| J3         | 61300311121                  | Gain selection for IO4                              |
+------------+------------------------------+-----------------------------------------------------+
| J16        | 61300311121                  | Gain selection for IO5                              |
+------------+------------------------------+-----------------------------------------------------+
| J17        | 61300311121                  | Gain selection for IO6                              |
+------------+------------------------------+-----------------------------------------------------+
| J14        | 61300311121                  | Voltage reference selection for current measurement |
+------------+------------------------------+-----------------------------------------------------+
| J12        | GCT USB4115                  | USB Type C programming connector                    |
+------------+------------------------------+-----------------------------------------------------+
| J13        | SAMTEC FTSH-105-01-F-DV-P-TR | PCB1 <-> PCB2 Connector                             |
+------------+------------------------------+-----------------------------------------------------+


Pinout
-----------------------------

Pinout for V0.1 board : 

+------------+----------+----------+----------+
| Function   | Type     | ESP32-S3 | ESP32-C6 |
+============+==========+==========+==========+
| Relay 1    | Output   | GPIO38   | GPIO21   |
+------------+----------+----------+----------+
| Relay 2    | Output   | GPIO21   |  GPIO22  |
+------------+----------+----------+----------+
| Relay 3    | Output   | GPIO47   |  GPIO23  |
+------------+----------+----------+----------+
| Relay 4    | Output   | GPIO37   |  GPIO20  |
+------------+----------+----------+----------+
| User LED   | Output   | GPIO18   |  GPIO10  |
+------------+----------+----------+----------+
| User button| Input    | GPIO42   |  GPIO15  |
+------------+----------+----------+----------+
| RS485 TX   | Output   | GPIO35   |  GPIO18  |
+------------+----------+----------+----------+
| RS485 RX   | Input    | GPIO48   |  GPIO19  |
+------------+----------+----------+----------+
| IO1        | GPIO/ADC | GPIO2    |  GPIO3   |
+------------+----------+----------+----------+
| IO2        | GPIO     | GPIO7    |  GPIO7   |
+------------+----------+----------+----------+
| IO3        | GPIO/ADC | GPIO1    |  GPIO2   |
+------------+----------+----------+----------+
| IO4        | GPIO/ADC | GPIO16   |  GPIO1   |
+------------+----------+----------+----------+
| IO5        | GPIO/ADC | GPIO15   |  GPIO0   |
+------------+----------+----------+----------+
| IO6        | GPIO/ADC | GPIO6    |  GPIO6   |
+------------+----------+----------+----------+

Through J13 connector, some other signals are available : 

+------------+----------+----------+----------+
| Function   | Type     | ESP32-S3 | ESP32-C6 |
+============+==========+==========+==========+
| Interrupt  | Input    | GPIO18   | GPIO10   |
+------------+----------+----------+----------+
| I2C SCL    | Output   | GPIO43   | GPIO16   |
+------------+----------+----------+----------+
| I2C SDA    | I / O    | GPIO44   | GPIO17   |
+------------+----------+----------+----------+

Note that user LED and PCB2 interrupt share the same pin.
