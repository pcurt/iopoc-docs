In-depth view
=========

Connectors
-----------------------------

External connectors
^^^^^^^^^^^^^^^^^^^

+------------+--------------+--------------+----------------------+
| Designator | PartNumber   | Mates with   | Function             |
+============+==============+==============+======================+
| J6         | 691322110002 | 691361100002 | 5V Power input       |
+------------+--------------+--------------+----------------------+
| J9         | 691322110003 | 691361100003 | RS485 Connector      |
+------------+--------------+--------------+----------------------+
| J5         | 691322110004 | 691361100004 | IO 1/2 Connector     |
+------------+--------------+--------------+----------------------+
| J18        | 691322110006 | 691361100006 | IO 3/4/5/6 Connector |
+------------+--------------+--------------+----------------------+
| J7         | 691313510012 | 691351500012 | 4x Relay Connector   |
+------------+--------------+--------------+----------------------+

Internal connectors
^^^^^^^^^^^^^^^^^^^

+------------+------------------------------+-----------------------------------------------------+
| Designator | PartNumber                   | Function                                            |
+============+==============================+=====================================================+
| J8         | 61300211121                  | RS485 120R enable jumper                            |
+------------+------------------------------+-----------------------------------------------------+
| J1         | 61300311121                  | Pull-up / Pull-down selection for IO1               |
+------------+------------------------------+-----------------------------------------------------+
| J2         | 61300311121                  | Pull-up / Pull-down selection for IO2               |
+------------+------------------------------+-----------------------------------------------------+
| J4         | 61300311121                  | Gain selection for IO3                              |
+------------+------------------------------+-----------------------------------------------------+
| J3         | 61300311121                  | Gain selection for IO4                              |
+------------+------------------------------+-----------------------------------------------------+
| J16        | 61300311121                  | Gain selection for IO5                              |
+------------+------------------------------+-----------------------------------------------------+
| J17        | 61300311121                  | Gain selection for IO6                              |
+------------+------------------------------+-----------------------------------------------------+
| J14        | 61300311121                  | Voltage reference selection for current measurement |
+------------+------------------------------+-----------------------------------------------------+
| J12        | GCT USB4115                  | USB Type C programming connector                    |
+------------+------------------------------+-----------------------------------------------------+
| J13        | SAMTEC FTSH-105-01-F-DV-P-TR | PCB1 <-> PCB2 Connector                             |
+------------+------------------------------+-----------------------------------------------------+


Pinout
-----------------------------

Pinout for V0.2 board : 

+------------+----------+----------+----------+
| Function   | Type     | ESP32-S3 | ESP32-C6 |
+============+==========+==========+==========+
| Relay 1    | Output   | GPIO37   |  GPIO20  |
+------------+----------+----------+----------+
| Relay 2    | Output   | GPIO38   |  GPIO21  |
+------------+----------+----------+----------+
| Relay 3    | Output   | GPIO39   |  GPIO22  |
+------------+----------+----------+----------+
| Relay 4    | Output   | GPIO40   |  GPIO23  |
+------------+----------+----------+----------+
| User LED   | Output   | GPIO18   |  GPIO10  |
+------------+----------+----------+----------+
| User button| Input    | GPIO0    |  GPIO9   |
+------------+----------+----------+----------+
| RS485 TX   | Output   | GPIO36   |  GPIO19  |
+------------+----------+----------+----------+
| RS485 RX   | Input    | GPIO35   |  GPIO18  |
+------------+----------+----------+----------+
| IO1        | GPIO/ADC | GPIO2    |  GPIO3   |
+------------+----------+----------+----------+
| IO2        | GPIO     | GPIO1    |  GPIO2   |
+------------+----------+----------+----------+
| IO3        | GPIO/ADC | GPIO7*   |  GPIO0*  |
+------------+----------+----------+----------+
| IO4        | GPIO/ADC | GPIO6    |  GPIO6   |
+------------+----------+----------+----------+
| IO5        | GPIO/ADC | GPIO5    |  GPIO5   |
+------------+----------+----------+----------+
| IO6        | GPIO/ADC | GPIO4    |  GPIO4   |
+------------+----------+----------+----------+

*For IO3, you need to solder the right 0R resistor (R1 or R41). See :ref:`Fitted and not fitted components`.

Through J13 connector, some other signals are available : 

+------------+----------+----------+----------+
| Function   | Type     | ESP32-S3 | ESP32-C6 |
+============+==========+==========+==========+
| Interrupt  | Input    | GPIO8    | GPIO11   |
+------------+----------+----------+----------+
| I2C SCL    | Output   | GPIO43   | GPIO16   |
+------------+----------+----------+----------+
| I2C SDA    | I / O    | GPIO44   | GPIO17   |
+------------+----------+----------+----------+

Note that user LED and PCB2 interrupt share the same pin.

Fitted and not fitted components
-----------------------------

For V0.2 only :

+------------+------------+------------+
| Component  | ESP32-S3   | ESP32-C6   |
+============+============+============+
| R1         | Fitted     | Not fitted |
+------------+------------+------------+
| R41        | Not fitted | Fitted     |
+------------+------------+------------+
